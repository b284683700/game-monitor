# 🎮 游戏助手监控系统 - 使用指南

## 📋 目录
1. [系统介绍](#系统介绍)
2. [准备工作](#准备工作)
3. [详细步骤](#详细步骤)
4. [常见问题](#常见问题)
5. [进阶配置](#进阶配置)

---

## 🎯 系统介绍

这是一个基于GitHub的免费远程监控系统，可以让你在手机上实时查看多台电脑的游戏助手运行状态。

**特点：**
- ✅ 完全免费
- ✅ 无需服务器
- ✅ 手机随时查看
- ✅ 支持多台电脑
- ✅ 自动更新数据

---

## 🛠️ 准备工作

### 需要的东西：
1. ✅ GitHub账号（免费注册）
2. ✅ GitHub Desktop（你正在下载）
3. ✅ 10分钟时间

### 已创建的文件：
- `monitor.html` - 监控网页
- `upload_status.py` - 上传脚本
- `monitor_config.py` - 配置文件
- `监控系统使用指南.md` - 本文档

---

## 📝 详细步骤

### 第1步：注册GitHub账号（5分钟）

如果你还没有GitHub账号：

1. 打开浏览器，访问：https://github.com
2. 点击右上角 **"Sign up"**（注册）
3. 填写信息：
   - Email：你的邮箱
   - Password：设置密码（至少8位）
   - Username：用户名（记住这个，后面要用）
4. 验证邮箱
5. 完成注册

**记住你的用户名！** 例如：`zhangsan123`

---

### 第2步：安装GitHub Desktop（你正在做）

1. 下载完成后，双击安装
2. 打开GitHub Desktop
3. 点击 **"Sign in to GitHub.com"**
4. 输入你的GitHub账号和密码
5. 登录成功

---

### 第3步：创建仓库（2分钟）

#### 方法1：使用GitHub Desktop（推荐）

1. 打开GitHub Desktop
2. 点击 **"File"** → **"New repository"**
3. 填写信息：
   ```
   Name: game-monitor
   Description: 游戏助手监控系统
   Local path: 选择一个文件夹（例如：桌面）
   ✅ Initialize this repository with a README
   ```
4. 点击 **"Create repository"**
5. 点击 **"Publish repository"**
6. 确保 **"Keep this code private"** 没有勾选（要选公开）
7. 点击 **"Publish repository"**

#### 方法2：使用网页

1. 登录GitHub网站
2. 点击右上角 **"+"** → **"New repository"**
3. 填写：
   ```
   Repository name: game-monitor
   Description: 游戏助手监控系统
   ✅ Public（选择公开）
   ✅ Add a README file
   ```
4. 点击 **"Create repository"**

---

### 第4步：上传文件（2分钟）

#### 使用GitHub Desktop：

1. 在GitHub Desktop中，点击 **"Show in Explorer"**（在资源管理器中显示）
2. 把这4个文件复制到打开的文件夹：
   - `monitor.html`
   - `upload_status.py`
   - `monitor_config.py`
   - `监控系统使用指南.md`
3. 回到GitHub Desktop，会看到文件变化
4. 在左下角填写：
   ```
   Summary: 添加监控系统文件
   ```
5. 点击 **"Commit to main"**
6. 点击 **"Push origin"**

✅ 文件上传完成！

---

### 第5步：开启GitHub Pages（1分钟）

1. 打开浏览器，访问你的仓库：
   ```
   https://github.com/你的用户名/game-monitor
   ```
   
2. 点击 **"Settings"**（设置）

3. 左侧菜单找到 **"Pages"**

4. 在 **"Source"** 下：
   - Branch: 选择 **"main"**
   - Folder: 选择 **"/ (root)"**
   
5. 点击 **"Save"**

6. 等待1-2分钟，页面会显示：
   ```
   Your site is published at https://你的用户名.github.io/game-monitor/
   ```

7. **记住这个网址！** 这就是你的监控网页地址

---

### 第6步：创建GitHub Token（2分钟）

这个Token用于程序上传数据。

1. 在GitHub网站，点击右上角头像 → **"Settings"**

2. 左侧菜单滚动到最下方 → **"Developer settings"**

3. 点击 **"Personal access tokens"** → **"Tokens (classic)"**

4. 点击 **"Generate new token"** → **"Generate new token (classic)"**

5. 填写信息：
   ```
   Note: game-monitor-token
   Expiration: No expiration（永不过期）
   
   Select scopes:
   ✅ gist（只勾选这一个就够了）
   ```

6. 滚动到底部，点击 **"Generate token"**

7. **重要！** 复制显示的Token（只显示一次）
   ```
   例如：ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
   ```
   
8. 把Token保存到记事本，后面要用

---

### 第7步：创建Gist（1分钟）

Gist用于存储监控数据。

1. 访问：https://gist.github.com

2. 点击右上角 **"+"** → **"New gist"**

3. 填写：
   ```
   Gist description: 游戏监控数据
   Filename: status.json
   
   内容填写：
   {}
   ```

4. 选择 **"Create public gist"**（创建公开Gist）

5. 创建后，浏览器地址栏会显示：
   ```
   https://gist.github.com/你的用户名/一串字符
   ```
   
6. **复制这串字符**（这就是Gist ID）
   ```
   例如：abc123def456ghi789
   ```

---

### 第8步：配置程序（2分钟）

1. 打开 `monitor_config.py` 文件

2. 填写你的信息：
   ```python
   # 填写第6步复制的Token
   GITHUB_TOKEN = "ghp_你的token"
   
   # 填写第7步复制的Gist ID
   GIST_ID = "你的gist_id"
   
   # 填写你的GitHub用户名
   GITHUB_USERNAME = "你的用户名"
   
   # 给这台电脑起个名字
   COMPUTER_NAME = "主机"
   ```

3. 保存文件

4. 打开 `monitor.html` 文件

5. 找到这两行（大约在第265-268行）：
   ```javascript
   username: 'YOUR_GITHUB_USERNAME',
   gistId: 'YOUR_GIST_ID',
   ```

6. 修改为：
   ```javascript
   username: '你的用户名',
   gistId: '你的gist_id',
   ```

7. 保存文件

8. 使用GitHub Desktop上传修改：
   - Commit message: "配置完成"
   - Commit to main
   - Push origin

---

### 第9步：测试上传（2分钟）

1. 打开命令行（在项目文件夹按住Shift+右键 → "在此处打开命令窗口"）

2. 安装依赖：
   ```bash
   pip install requests
   ```

3. 运行测试：
   ```bash
   python upload_status.py
   ```

4. 如果看到：
   ```
   ✅ GitHub连接测试成功
   ✅ 状态上传成功
   ✅ 测试成功！
   ```
   说明配置正确！

5. 如果失败，检查：
   - Token是否正确
   - Gist ID是否正确
   - 网络是否正常

---

### 第10步：手机访问（1分钟）

1. 打开手机浏览器

2. 访问你的监控网页：
   ```
   https://你的用户名.github.io/game-monitor/monitor.html
   ```

3. 应该能看到刚才上传的测试数据

4. **添加到桌面**（像App一样使用）：

   **iPhone：**
   - Safari打开网页
   - 点击底部分享按钮
   - 选择"添加到主屏幕"
   - 输入名称"游戏监控"
   
   **Android：**
   - Chrome打开网页
   - 点击右上角菜单（三个点）
   - 选择"添加到主屏幕"
   - 输入名称"游戏监控"

✅ 完成！现在你可以随时在手机上查看了！

---

## 🔧 集成到main_ui.py

现在需要把上传功能集成到你的主程序中。

### 修改步骤：

1. 在 `main_ui.py` 文件开头添加导入：
   ```python
   from upload_status import StatusUploader
   from monitor_config import *
   ```

2. 在 `MainWindow` 类的 `__init__` 方法中添加：
   ```python
   # 初始化状态上传器
   if ENABLE_UPLOAD:
       try:
           self.uploader = StatusUploader(
               GITHUB_TOKEN, 
               GIST_ID, 
               COMPUTER_NAME
           )
           print("✅ 监控上传器初始化成功")
       except Exception as e:
           print(f"❌ 监控上传器初始化失败: {e}")
           self.uploader = None
   else:
       self.uploader = None
   ```

3. 在主循环中添加上传调用（在 `run_tasks` 方法中）：
   ```python
   # 上传状态到监控系统
   if self.uploader:
       status_data = {
           "current_account": self.current_account,
           "current_task": self.current_task_label.text(),
           "workbench_status": self.workbench_status_label.text(),
       }
       self.uploader.upload_status(status_data)
   ```

---

## ❓ 常见问题

### Q1: 网页显示"加载失败"？

**A:** 检查：
1. `monitor.html` 中的用户名和Gist ID是否正确
2. Gist是否是public（公开）的
3. 等待几分钟，GitHub可能需要时间同步

### Q2: 程序上传失败？

**A:** 检查：
1. `monitor_config.py` 中的Token和Gist ID是否正确
2. Token是否有gist权限
3. 网络连接是否正常
4. 运行 `python upload_status.py` 测试

### Q3: 手机看不到数据？

**A:** 检查：
1. 程序是否在运行
2. 是否成功上传（看控制台输出）
3. 手机网络是否正常
4. 刷新网页

### Q4: 多台电脑怎么配置？

**A:** 
1. 每台电脑使用相同的Token和Gist ID
2. 但要设置不同的COMPUTER_NAME
3. 例如："主机"、"笔记本"、"电脑1"、"电脑2"

### Q5: 数据多久更新一次？

**A:** 
- 默认30秒上传一次
- 网页30秒自动刷新一次
- 可以在 `monitor_config.py` 中修改

---

## 🚀 进阶配置

### 自定义上传间隔

在 `monitor_config.py` 中修改：
```python
UPLOAD_INTERVAL = 60  # 改为60秒
```

### 添加更多监控数据

在上传时添加更多字段：
```python
status_data = {
    "current_account": self.current_account,
    "current_task": self.current_task_label.text(),
    "workbench_status": self.workbench_status_label.text(),
    "hafnium_consumed": self.hafnium_consumed,  # 添加哈夫币消耗
    "task_round": self.current_round,  # 添加任务轮次
    # 可以添加任何你想监控的数据
}
```

### 自定义网页样式

修改 `monitor.html` 中的CSS样式，可以改变：
- 颜色主题
- 字体大小
- 卡片样式
- 等等

---

## 📞 需要帮助？

如果遇到问题：

1. 先查看"常见问题"部分
2. 检查控制台输出的错误信息
3. 运行 `python upload_status.py` 测试连接
4. 确认所有配置都正确填写

---

## 🎉 完成！

恭喜你完成了监控系统的搭建！

现在你可以：
- ✅ 在手机上随时查看程序状态
- ✅ 监控多台电脑
- ✅ 完全免费使用
- ✅ 数据自动更新

享受你的监控系统吧！🎮